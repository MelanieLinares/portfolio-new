

{{ define "main" }}

<!-- //this is what allows markup... only this -->
<!-- <p class="b f4 di lh-title mb3 white mw6 bg-primary"></p>
{{ .Content }} 
</p> -->
<!-- // -->


<!-- {{ partial "jumbotron" (dict "imageUrl" .Params.image "imageUrl2" .Params.image2 "backgroundcolor" .Params.backgroundcolor "subtitle" .Params.subtitle "text" .Content) }} -->
{{ partial "jumbotron" (dict "imageUrl" .Params.image "imageUrl2" .Params.image2 "backgroundcolor" .Params.backgroundcolor "subtitle" .Params.subtitle "text" .Content) }}


<!-- {{.Params.text}} -->

<!-- <div class="upcoming-events"><div><h2>Upcoming Events:</h2> <b>UX Y'all</b> (Attentee) - 10/04/2020</div>
<div>sdfkjghsdjfh</div></div> -->

<div class="component" style="margin-top: -10.25em;">
  <canvas id="canvas" class="canvas"></canvas>
</div>

<script>
  /**
   * Set some defaults for the project
   */
  
   var theme = {
      nineties: {
        //   foreground: ['244,174,172','255,237,238','160,166,222','237,243,255','232,245,207'],
        foreground: ['255,255,255']

        //   background: '255,255,255'
      }
  };
  
  
  var options = {
      colors: theme.nineties.foreground,
      background: theme.nineties.background,
      shape: ['square','circle','triangle'],
      minRadius: 15,
      maxRadius: 50,
      minSpeed: -0.75,
      maxSpeed: 0.25,
      minOpacity: 1,
      maxOpacity: 1,
      minStroke: 4,
      maxStroke: 7,
      minRotationSpeed: 0.0025,
      maxRotationSpeed: 0.01,
      numOfElements: 4
  }
  
  
  
  /**
   * Create seeds for each element to be animated
   * Seed stores all the coordinates, size and speed data
   * Runs once, generates random values that can then be used
   * as a costant value or added to if needed/
   **/
  function seedElements(){
      var elements = [];
      
      for(var i = 0; i < options.numOfElements; i++){
          // setup shape options and add to a new array
          var element = {
              x: pickRandBetween(0,canvas.width),
              y: pickRandBetween(0,canvas.height),
              radius: pickRandBetween(options.minRadius,options.maxRadius),
              color: pickRand(options.colors),
              opacity: pickRandBetween(options.minOpacity,options.maxOpacity),
              stroke: pickRandBetween(options.minStroke,options.maxStroke),
              shape: pickRand(options.shape),
              xSpeed: pickRandBetween(options.minSpeed,options.maxSpeed),
              ySpeed: pickRandBetween(options.minSpeed,options.maxSpeed),
              rotation: pickRandBetween(1,360),
              rotationSpeed: pickRandBetween(options.minRotationSpeed,options.maxRotationSpeed),
              rotationDirection: pickRand(['clockwise','anticlockwise']),
          };
          elements.push(element);
      }
      return elements;
  }
  
  function drawSquare(r){   
      ctx.strokeRect(-(r/2), -(r/2), r, r);
  }
  
  function drawCircle(r){
      ctx.beginPath();
      ctx.arc(0,0, r, 0, 2 * Math.PI, false);
      ctx.closePath();
      ctx.stroke();
  }
  
  function drawTriangle(r){
      ctx.beginPath();
      var a = ((Math.PI * 2) / 3);
      ctx.translate(0, 0);
      ctx.moveTo(r, 0);
      ctx.lineTo(r * Math.cos(a*1), r * Math.sin(a*1));
      ctx.lineTo(r * Math.cos(a*2), r * Math.sin(a*2));
      ctx.lineTo(r * Math.cos(a*3), r * Math.sin(a*3));
      ctx.closePath();
      ctx.stroke();
      ctx.setTransform(1, 0, 0, 1, 0, 0); // no idea!!!
  }
  
  /**
   * runs every frame so watch your ass with any heavy lifting!
   */
  function drawElement(seed,i){   
      ctx.save();
      ctx.translate(seed.x - seed.radius/2, seed.y - seed.radius/2);
      //ctx.fillText(i,-4,5);
      ctx.rotate(seed.rotation);
      ctx.strokeStyle = 'rgba(' +seed.color + ',' + seed.opacity + ')';
      ctx.lineWidth = seed.stroke;
      if(seed.shape === 'square'){
          drawSquare(seed.radius);
      } else if(seed.shape === 'circle'){
          drawCircle(seed.radius);
      } else if(seed.shape === 'triangle'){
          drawTriangle(seed.radius);
      }
        
      ctx.translate( -(seed.x), -(seed.y));
      ctx.restore();
  }
  
  function offScreen(elem){  
      var xOffScreen = false;
      var yOffScreen = false;
      
      if(elem.x + (elem.radius/2) < 0 || elem.x + (elem.radius/2) > canvas.width){
          xOffScreen = true;
      }
         
      if(elem.y + (elem.radius/2) < 0 || elem.y + (elem.radius/2) > canvas.height){
          yOffScreen = true;
      }
      
      if(xOffScreen || yOffScreen){
         return true;
      }
  }
  
  
  function wraparound(x,y,r){
      var newX = x;
      var newY = y;
      
      if(x < -r){
          //x is off to the left
          newX = canvas.width + r;
      }
      
      if(x > canvas.width + r){
          //x is off to the right
          newX = -r;
      }
         
      if(y < -r){
          // y is off at the top
          newY = canvas.height + r;
      }
      
      if(y > canvas.height + r){
         newY = -r;
      }
      
      return {x:newX,y:newY};
  }
  
  /**
   * Pick a random element from an array
   */
  function pickRand(arr){
      return arr[Math.floor(Math.random() * arr.length)];
  }
  
  /**
   * pick a random number between two integers
   */
  function pickRandBetween(min,max){
        return Math.random() * (max - min) + min;
  }
  
  function drawElements(seeds){
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for(var i = 0; i < seeds.length; i++){
          seeds[i].x = wraparound(seeds[i].x,seeds[i].y,seeds[i].radius).x;
          seeds[i].y = wraparound(seeds[i].x,seeds[i].y,seeds[i].radius).y;
          seeds[i].x += seeds[i].xSpeed;
          seeds[i].y += seeds[i].ySpeed;
          if (seeds[i].rotationDirection === 'clockwise'){
              seeds[i].rotation += seeds[i].rotationSpeed;
          } else {
              seeds[i].rotation -= seeds[i].rotationSpeed;
          }
          
          // pass the i as second arg is temporary
          drawElement(seeds[i],i);
      }
      //console.log(seeds);
  }
  
  /**
   * Animation loop 
   */
  function animate(myseeds) {
      requestAnimationFrame(function(){
          animate(myseeds);
      });
      drawElements(myseeds);
  }
  
  (function(){
      var canvas = document.getElementById('canvas');
      canvas.style.backgroundColor = 'rgb(' + options.background + ')';
      ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = (window.innerHeight) - 100;
      var myseeds = seedElements();
      animate(myseeds);
      window.addEventListener('resize', function(){
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
      })  
  })();	
  
  </script>

{{ partial "short-text" .Params.blurb}}

<section class="flex">

<script>
function myFunc(el) {

    var myElement = document. getElementById('smile-graphic');

myElement.classList.add('hover');
}

function myFuncOut(el) {
    var myElement = document. getElementById('smile-graphic');

    myElement.classList.remove('hover');
}

function myFuncOutSuper(el) {
    var myElement = document. getElementById('smile-graphic');

    myElement.classList.remove('hoversuper');
}

function myFuncSuper(el) {

var origElement = document. getElementById('smile-graphic');
var myElement = document. getElementById('superafter');
var bounding = myElement.getBoundingClientRect();

if (bounding.top >= 0 && bounding.left >= 0 && bounding.right <= window.innerWidth && bounding.bottom <= window.innerHeight) {

console.log('Element is in the viewport!');
console.log('hovering element',myElement);


origElement.classList.add('hoversuper');
} else {

console.log('Element is NOT in the viewport!');
}



}

</script>
<!-- <span id="before"></span> -->
<span id="smile-graphic">
    <span id="before" onmouseover="myFunc(this)" onmouseout="myFuncOut(this)"></span>
    <span id="after" onmouseover="myFuncSuper(this)" onmouseout="myFuncOutSuper(this)"></span>
    <span id="superafter"></span>
</span>
<!-- <span id="after"></span> -->

{{ partial "2-up" .Params }}
</section>

<!-- {{ partial "text-and-image" (dict "heading" .Params.values.heading "text" .Params.values.text "buttonText" "Reada more" "buttonLink" "/values") }} -->
{{ partial "blog" . }}


<!-- <div class="item">
    <div class="polaroid"><img src="img/test-img.jpg">
    </div>
    <img style="z-index: 1;width: 25%;transform: scaleX(1)rotate(240deg);position: absolute;left: 15.5em;bottom: -10vw;border: unset;filter: brightness(0.9) invert(.7) sepia(.5) hue-rotate(320deg) saturate(200%);" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAACTklEQVR4nO3Zu2tUQRiG8Z8XIkIUsbNRjFcQgtHGCwoWilgF0VYQRBD/BjvBzk6xSewE66gg3moFey0EEXULb4SowULXYrK45+yGeHZPds5J5oEpZlmG93t2zs7styQSiUQikUgkEgvxC822MRQ3TjmsLPDe77n5cJlBYlFEwExuvq7MILEoIuBbbr6pzCCxKCLgTW6+s8wgsSgi4FVuvqvMILEoIuB1br6/zCB1YIfsMfjDEjkKi/BOVsLhuHH6p8gjAM9y8/GygtSFM7I74CNWRU00YNbgq6yEU1ETReCWrIAnceMMnjH8kZVwMGqiCDyQFfAobpzBc0BWQBNnoyaKwD1ZAe+xPmqiAbNFuA22S7gbNVEP9HOGT2M1jrW9tgcNvOwnVI5RfBIEV44hvJDdBbM4WtL6J+fWm1D81jowNuOLrIRp4bjshxNC8a01J1VYwjh+y0poCNu3F9big86TptI74ZLOwDM43uN6e/G5y5qV3glXdQaexcUe19un8/Gq9E5YobuEJu7o7Z5QOwlwWed3Quvn87ke1qvl4zAutNK77YbHOFRwvVruhK14rruEJp4K/YT/vZDVUsIQruCn+UU0cB1HLNxoraUEGMGU+SW0d5sf4hrOC72GEWz0T05tJRCe/fs6mypljQnhNKo8Y7ip+yfZ77ihJhIIjdbTuI23Biygipa2CR2n3cIfsNuxYW4MW/hLchIXBBFLllpejMoiFS8Vn4pPxUvFp+KXNLVsipZNrdrii0VLwrIsvsWoZVx8IpFIJBKJxeMvKWg+cdK8CUMAAAAASUVORK5CYII="/>
  </div> -->

<section id="link-section">
<div>
    <h2>Find me in the wild</h2>
      {{ partial "test.html" .Params }}
  </div>
</section>
{{ end }} 
