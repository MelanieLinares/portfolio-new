<!doctype html>
<html lang="{{ $.Site.Language.Lang }}">
  {{ partial "head" . }}
  <body class="sans-serif">

    {{ if eq (relURL .URL) ("/post/") }}
    <style>
      body {
        background-color: #e5eeff;
      }
    </style>
    {{end}}

    {{ if eq (relURL .URL) ("/article/") }}
    <style>
      body {
        background-color: #e9e3ff;
      }
    </style>
    {{end}}

    {{ block "header" . }}{{ partial "nav" . }}{{end}}

    {{ block "main" . }}{{ end }}

    {{ block "footer" . }}{{ partial "footer" . }}{{end}}

    {{ $script := .Site.Data.webpack.main }}
    {{ with $script.js }}
      <script src="{{ relURL . }}"></script>
    {{ end }}
    
    <!-- <script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script> -->

    <script type="text/javascript">
      function toggleModal(modalID){
        document.body.classList.toggle("overflow-hidden");
        document.getElementById(modalID).classList.toggle("hidden");
        document.getElementById(modalID + "-backdrop").classList.toggle("hidden");
        document.getElementById(modalID).classList.toggle("flex");
        document.getElementById(modalID + "-backdrop").classList.toggle("flex");
        document.getElementById('modal').focus();
        
      }
      $(document).on("keyup", function (e, test) {
        var test = document.getElementById('modal-id');
        if(e.key === "Escape") {
          
      if ((test.classList.contains('hidden')) == false) {
        document.body.classList.toggle("overflow-hidden");
        document.getElementById("modal-id").classList.toggle("hidden");
        document.getElementById("modal-id-backdrop").classList.toggle("hidden");
        document.getElementById("modal-id").classList.toggle("flex");
        document.getElementById("modal-id-backdrop").classList.toggle("flex");


      }
        }

        if(e.key === "Tab") {
          if ((test.classList.contains('hidden')) == false) {
                    // dummy element
        var dummyEl = document.getElementById('modal-id-backdrop');
        var dummyElle = document.getElementById('modal-trigger');


        // check for focus
        // alert("yay tab!");
var isFocused = (document.activeElement === dummyEl);
var isNewFocused = (document.activeElement === dummyElle);




if (isFocused) {
  document.getElementById('close-btn').focus();
}
if (isNewFocused) {

  document.getElementById('close-btn').focus();
}
        }
      }


      });
    </script>

</body>
</html>
